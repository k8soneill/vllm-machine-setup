---
# User configuration
ansible_user: "{{ lookup('env', 'USER') }}"

# Model configuration
vllm_model: "TheBloke/Mistral-7B-Instruct-v0.2-AWQ"
vllm_quantization: "awq"
vllm_dtype: "auto"
vllm_max_model_len: 4096
vllm_gpu_memory_utilization: 0.8
vllm_port: 8000

# Storage configuration
huggingface_cache: "/home/{{ ansible_user }}/.cache/huggingface"

# K3s configuration - SECURITY: Pin specific version and checksum
k3s_version: "v1.28.5+k3s1"
k3s_install_script_url: "https://raw.githubusercontent.com/k3s-io/k3s/{{ k3s_version }}/install.sh"
kubeconfig: "/home/{{ ansible_user }}/.kube/config"

# IMPORTANT: Get this checksum by running:
# curl -sL https://raw.githubusercontent.com/k3s-io/k3s/v1.28.5+k3s1/install.sh | sha256sum
# Update this value with the actual checksum
k3s_install_script_checksum: "sha256:5f785120f00ef4b0aba205161232d2a04b6e7a75332cae7059fcc1f517340777"  # Leave empty on first run to see actual checksum

# Set to true for strict checksum verification (recommended)
k3s_verify_checksum_strict: true  # Set to true after you've verified the checksum
k3s_install_dir: /usr/local/bin

# NVIDIA GPU Operator
gpu_operator_version: "v24.9.0"

# Kubernetes deployment
vllm_deployment_name: vllm-mistral
vllm_service_name: vllm-service
vllm_replicas: 1
vllm_namespace: default

# GPU settings
gpu_verification_strict: true # Validate GPU available on nodes

# Helm configuration
helm_repositories:
  - { name: "prometheus-community", url: "https://prometheus-community.github.io/helm-charts" }
  - { name: "nvidia", url: "https://helm.ngc.nvidia.com/nvidia" }